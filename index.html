<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Vision HR - Quick Test</title>

  <!-- Tailwind - correct CDN -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Lucide icons (UMD) -->
  <script src="https://unpkg.com/lucide@latest/dist/lucide.min.js"></script>

  <!-- React (UMD) and ReactDOM (UMD) -->
  <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- Babel standalone (for quick development only) -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #1f2937; }
    ::-webkit-scrollbar-thumb { background: #4b5563; border-radius: 10px; }
    ::-webkit-scrollbar-thumb:hover { background: #6b7280; }
    body { font-family: 'Inter', sans-serif; }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- Quick test app: transpiled in browser (only for debug/demo) -->
  <script type="text/babel" data-presets="react">
    // Use React and ReactDOM from globals
    const { useState, useEffect } = React;
    const rootContainer = document.getElementById('root');

    // Placeholder: not using Firebase here so app can render without errors.
    const appId = 'default-app-id';

    const Icon = ({ name, size = 20, className = '' }) => {
      if (typeof lucide === 'undefined' || !lucide[name]) {
        return <span className={className}>★</span>;
      }
      const svg = lucide[name]().toSvg({ width: size, height: size, class: className });
      return <span dangerouslySetInnerHTML={{ __html: svg }} />;
    };

    const Button = ({ children, onClick, color='primary', icon, disabled=false, className='' }) => {
      let base = 'px-4 py-2 rounded-lg font-semibold transition-all duration-200 flex items-center justify-center';
      let colorStyle = color === 'primary' ? 'bg-blue-600 text-white hover:bg-blue-700' : 'bg-gray-700 text-white';
      if (disabled) colorStyle = 'bg-gray-500 text-gray-300 cursor-not-allowed';
      return (
        <button onClick={onClick} className={`${base} ${colorStyle} ${className}`} disabled={disabled}>
          {icon && <Icon name={icon} className="mr-2" />}
          {children}
        </button>
      );
    };

    function App(){
      const [theme, setTheme] = useState('dark');
      useEffect(() => {
        console.log('lucide available?', typeof lucide !== 'undefined');
      }, []);

      return (
        <div className={`min-h-screen ${theme === 'dark' ? 'bg-gray-900 text-gray-100' : 'bg-white text-gray-900'} p-6`}>
          <header className="flex items-center justify-between mb-6">
            <h1 className="text-2xl font-bold">Vision HR — Quick Test</h1>
            <div className="space-x-2">
              <Button onClick={() => setTheme(t => t === 'dark' ? 'light' : 'dark')} color="secondary" icon="Settings">Toggle Theme</Button>
            </div>
          </header>

          <section className="grid grid-cols-1 md:grid-cols-3 gap-4">
            <div className="p-6 rounded-xl bg-gray-800">
              <p className="text-sm text-gray-300">This is a quick test build to verify React + Tailwind + Lucide are loading on Netlify.</p>
            </div>
            <div className="p-6 rounded-xl bg-gray-800">
              <p className="text-sm text-gray-300">App ID: <strong className="break-words"> {appId} </strong></p>
            </div>
            <div className="p-6 rounded-xl bg-gray-800">
              <p className="text-sm text-gray-300">Firebase not initialized in this quick test. Replace with built React app for full features.</p>
            </div>
          </section>

          <footer className="mt-6 text-sm text-gray-400">
            Open DevTools (F12) → Console to see any errors (if white screen persists).
          </footer>
        </div>
      );
    }

    ReactDOM.createRoot(rootContainer).render(<App />);
  </script>
</body>
</html>
